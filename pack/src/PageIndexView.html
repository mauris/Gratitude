<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset="utf-8">
        <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/css/bootstrap-combined.min.css" rel="stylesheet">
        <style type="text/css">
            .tiles{
                width: 50px;
                height:50px;
                float:left;
            }
            #gallery{
                background: #000;
            }
            .cntSeparator {
                line-height:100%;
                font-size: 60px;
                margin: 10px 7px;
                color: #000;
            } 
        </style>
    </head>
    <body>
        <header>
            <div class="row">
                <div class="span12">
                <h1>Thank you for your votes.</h1>
                <div id="counter"></div>
                </div>
            </div>
        </header>
        <div id="gallery">
        {{#profiles}}
        <img  data-content="{{name}}" data-trigger="hover" src="https://graph.facebook.com/{{id}}/picture" alt="{{name}}" class="tiles"></a>
        {{/profiles}}
        </div>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.1.1/js/bootstrap.min.js"></script>
        <script src="http://jquery-countdown.googlecode.com/svn/trunk/js/jquery.countdown.min.js"></script>
        <script>
            (function($){
                
                $(".tiles").popover();
                
                var getRemainder = function(){
                    var now = Math.round(+new Date()/1000);
                    var deadline = Math.round(+new Date(2012, 9, 28)/1000);
                    var diff = deadline - now;
                    console.log(diff);
                    
                    var days    = Math.floor(diff / 86400);
                    diff -= days * 86400;
                    var hours   = Math.floor(diff / 3600);
                    diff -= hours * 3600;
                    var minutes = Math.floor(diff / 60);
                    diff -= minutes * 60;
                    var seconds = diff;
                    
                    if (days    < 10) {days    = "0" + days;}
                    if (hours   < 10) {hours   = "0" + hours;}
                    if (minutes < 10) {minutes = "0" + minutes;}
                    if (seconds < 10) {seconds = "0" + seconds;}
                    var time    =      days + ":" + hours+':'+minutes+':'+seconds;
                    return time;
                }
                
                $('#counter').countdown({
                    stepTime: 60,
                    format: 'dd:hh:mm:ss',
                    startTime: getRemainder(),
                    digitImages: 6,
                    digitWidth: 53,
                    digitHeight: 77,
                    image: "assets/images/digits.png"
                });
                
            })(jQuery);
        </script>
    </body>
</html>
